<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>XVA-02-04 Logging</title>
</head>
<body>
    <div>
        <button id="senddata">Send data to be logged...</button> 
        <div>see log in output window... learn more about logging at Serilog.net</div>       
    </div>
    <script src="/Scripts/XSockets/xsockets.latest.min.js"></script>
    <script>
        var conn = new xsockets.client('ws://127.0.0.1:4502', ['simple']);
        conn.setPersistentId(xsockets.utils.guid());
        var simple = conn.controller('simple');

        simple.onOpen = function() {
            //When the button is clicked we send a basic object to log
            document.querySelector('#senddata').onclick = function() {
                simple.invoke('logtest', { text: 'Hello RealTime', number: 123 });
            };
        };
        conn.open();
    </script>
</body>
</html>
